---
layout: post
title:  "Ubuntu 常用命令学习笔记"
date:   2011-02-25 16:31:00
categories: linux
tags: ubuntu
---

1、命令格式：命令名 -[选项] 参数

2、ls命令

* ls -a
* ls -l	//查看权限属性
* ls -R
* ls -d


ls -l 查看文件权限属性解释：

第一个字符代表的意义

* （1）-表示是普通文件
* （2）d表示是目录
* （3）l表示是链接文件
* （4）b表示是块设备文件，例如硬盘的存储设备等
* （5）c表示是字符设备文件，如键盘等
* （6）s表示是套接字文件，此主要跟网络程序有关
* （7）p表示是管道文件

 接下来9个字符分别代表文件属主、属组、其他人的权限。r代表可读，w代表可写，x代表可执行，-代表无相应权限。

1．对于文件来说

可读是指可以查看文件内容，例如，使用vi或者cat命令能够查看文件内容。可写是指可以修改文件内容并且保存修改后的结果，如使用vi命令能够修改文件内容后保存。可执行指的是能够运行此文件，在Linux中，一个是否能够执行不决定于其扩展名，而是看其是否被设定了可执行权限，当然前提是本身一定是个二进制文件或者脚本文件。例如普通文本文件即使设定了可执行权限后也无法执行。

2．对于目录来说

可读是指能使用ls命令显示目录下的内容。可写指的是能够在此目录下建立和删除文件。在Linux中，一个文件是否能够被删除，是决定于其所在目录是否对命令执行者设定可写权限，而与文件本身权限无关，文件本身权限只是对文件本身内容或者是否能执行进行限制。可执行指的是能够在目录下运行命令，所以如果想让一个用户能够进入此目录，必须对此目录在相应的权限位上设定可执行权限。

然后是属主名，属组名，大小（字节数），mtime, 路径。。。


3、cd命令

	cd
	cd 路径

4、查看当前路径 present working directory

	pwd

5、改变文件创建时间ctime及创建空文件命令 touch

	touch

6、创建目录， 创建多级目录需要加-p选项

	mkdir 目录名
	mkdir -p 一级目录/二级目录

7、删除空目录,被删除的目录下面不能有子目录和文件，如果只有空子目录，可以用-p选项

	rmdir 空目录名
	rmdir -p 空目录名

8、删除文件、目录命令 rm

	rm -r 目录名
	rm 文件名
	-r 删除目录
	-i 删除前询问确认

9、复制文件 cp

	cp 源文件名 目标路径（目录） //生成的文件同名
	cp 源文件名 目标文件名	//自定义目标文件名 但文件内容相同
	-r:复制目录
	-i:复制前询问确认

10、移动文件或目录 mv

	rm 源文件名 目标路径   //移动到新路径
	rm 源文件名 新文件名   //改名

11、查看文件内容

	cat 文件名

如果文件内容超过一屏，可以用管道符|和分屏显示命令more

	cat /etc/passwd | more

还可以通过cat命令和输出重定向命令将一个文件的内容输出到另一个文件中去，即我们常说的将两个文件进行合并：

	# cat /etc/passwd >> /home/passwd_bak

这样passwd文件的内容就会追加passwd_bak文件中，从而达到两个文件合并的目的。

12、从头开始查看文件的内容 head [-n] 文件名

	head -5 /etc/passwd  //查看该文件的前五行

从尾巴开始查看文件的内容

	tail [-n] 文件名 // 与head相反，倒序查看

13、分屏显示文件内容命令 more

more可以单独使用过，也可以配合管道符使用，例如查看文件/etc/passwd的内容：

	more /etc/passwd
	cat /etc/passwd | more

但是使用more只能够使用回车符向下滚屏，不能向上滚屏。这个时候可以用less

13、分屏分行查看文件内容less

	less 文件名

使用上下箭头按行滚动，使用page up/down按屏滚动

14、文件差异比较命令diff

	diff [-选项] 文件一 文件二

15、统计命令 wc 可以对文件的行数，单词数和字符数进行统计

	wc -选项 文件名
	-l 统计行数
	-w 统计单词数
	-m 统计字符数

16、设定权限命令 chmod

	chmod nnn 文件名
	4：代表可读权限r
	2：代表可写权限w
	1：代表可执行权限x
	0：代表无权限-

数字方式设置权限

	chmod 640 filename

(6=4+2, 4=4, 0=0, 即权限为rw-r-----。）

字符方式设置权限

	chmod (u/g/o/a)(+/-/=)(r/w/x) filename

例如：chmod a=r /etc/passwd将文件的权限设置为-r--r--r-


17、更该属主（属组）命令：chown

chown命令可以更改一个文件（目录）的属主或者属组。

chown命令的执行方式为：

	# chown [选项] 属主[.属组] 文件名

* 使用chown命令，能够将一个文件的属主或者属组进行改变，或者
* 同时进行改变，同时改变时，属主和属组之间使用“.”隔开。还可以
* 使用-R选项同时将目录下的所有文件和目录的属主和属组进行修改。

18、更改文件属组命令：chgrp

chgrp命令能够改变文件（目录）的属组。

chgrp命令的执行方式为：

	# chgrp [选项] 属组 文件名

-R选项把一个目录下的所有内容都改变组。

19、压缩与解压命令 gzip（只能压缩单个文件不能打包多个文件和目录）压缩后原文件消失

	gzip [-选项] 文件名

	gzip /home/file	 //压缩文件
	gzip -9 /home/file  //指定压缩级别，分别为1到9，不指定默认为6，9级压缩比最高，但是速度最慢。
	gzip -d /home/file.gz //解压缩

20、不解压即查看压缩文件内容 zcat

	zcat /home/file.gz

21、解压.zip文件 unzip

	unzip [-选项] filename.zip
	-v 查看文件目录列表，但不解压
	-d 将文件解压到指定目录中
	-n 不覆盖原来已经存在的文件
	-o 覆盖已存在的文件并且不需要用户确认

22、压缩命令：bzip2（只能压缩单个文件不能打包多个文件和目录）压缩后原文件消失

bzip2命令能够压缩和解压以.bz2结尾的文件。

bzip2命令的执行方式为：

	# bzip2 [-选项] 文件名

bzip2命令生成的压缩的文件的扩展名为.bz2。

bzcat 能够不解压.bz2文件即可查看压缩文件内容

23、打包并压缩命令：tar

tar命令能够对一个文件或者目录内容进行打包压缩后备份。

tar命令的执行方式为：

	# tar [-选项] [要打包的文件名或者目录名] [要解压或解包的文件或者目录名]

tar命令常常用来对文件或者目录做备份。无论是刚才的gzip命
令，还是bzip2命令，我们都会发现它们只能对单一文件进行压缩，而
即使是同时输入两个文件名，也只能是生成两个单独的压缩文件，而
我们经常需要对很多文件或者目录同时进行压缩并且希望生成同一个
文件，这样就得先通过tar命令将需要同时进行备份的内容放到同一文
件里，我们称之为“.tar”文件，但是这个时候我们仅仅是相当于把
不同文件放到了一个大文件中，并没有对其进行压缩，当然我们可以
将打包和压缩的动作一次性完成。并且利用tar命令我们还可以在压缩
文件中增加新文件或者改变文件。由于tar 命令选项众多，见表7-12
。
例如，现在想将/etc/passwd文件和/etc/shadow文件打包后压缩
成user.tar.gz文件，可以执行如下操作：

	# tar czvf /home/user.tar.gz /etc/passwd /etc/shadow

	-c 创建新的打包文件（打包）
	-x 将.tar文件解包（解包）
	-z 打包后直接用gzip命令进行压缩，或者解压文件。（gzip压缩）
	-j 打包后直接用bzip2命令进行压缩，或者解压文件（bizp2压缩）
	-t 查看一个打包文件里的文件目录
	-f 使用文件或者设备（这个选项基本上是必选的）
	-k 如果在还原时有相同的文件存在则不进行覆盖
	-v 在打包压缩或者解包解压后将文件的详细清单是否显示出来
	-N 在此选项后加日期，如果文件日期比-Ｎ选项后面加的日期还要
	新才会被加进压缩包中
	如果要是创建文件的话，一般是cvf三
	个参数，如果压缩的话，一般再加上z或者j参数即可，但是后面的文
	件的扩展名也要相应的变成.tar.gz或者是.tar.bz2。而如果解包的话
	一般用xvf三个参数，如果同时还解压就需要加上z或者j参数了。

24、关机命令

	shutdown [-选项] 参数
	-h 停止系统服务，并关机
	-r 停止系统服务，并重启
	-c 取消已经在运行的shutdown命令内容

	shutdown -h +5	//5分钟后关机
	shutdown -h 18:00  //18:00准时关机
	shutdown -r +10 "remind: this system will reboot after 10 minutes"

25、halt命令

halt相当于shutdown -h

26、切换启动级别命令：init

init命令能够切换Ubuntu的运行级别。Ubuntu一共有7个运行级别，其中0级别为关机，6级别为重启，具体可以通过/etc/inittab文件查询，所以我们如果想使用init命令来关机，只需要下达命令：

	# init 0

27、关机命令poweroff

28、重启命令reboot

